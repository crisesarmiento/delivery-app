---
description:
globs:
alwaysApply: true
---
# User Flows and Interaction Patterns

## Core User Flows

### Branch Selection Flow
1. User arrives at Branches Screen
2. User can search for a specific branch
3. User can view branch details (including schedule)
4. User selects a branch to view its menu
5. If branch is closed, user sees notification but can still browse menu

### Menu Browsing Flow
1. User views categories in the fixed Categories Section
2. User selects a category to scroll to its products
3. User can search for specific products
4. User selects a product to view details

### Product Customization Flow
1. User selects a product to open Product Detail Modal
2. User can add special instructions (up to 100 characters)
3. User can select toppings:
- Checkbox for toppings with max quantity of 1
- Counter for toppings with max quantity > 1
4. User adjusts quantity with the unit counter
5. User adds product to cart with "Add" button

### Cart Management Flow
1. User can view cart contents from any page
2. User can remove individual items or clear entire cart
3. User can adjust quantities from cart
4. User can click on product in cart to edit details
5. User clicks "View Cart" to proceed to Cart Screen

### Checkout Flow
1. User selects delivery method (Delivery/Pickup)
2. If Delivery, user provides address details
3. User selects payment method (Transfer, Cash, Mercado Pago)
4. User reviews order summary with all applicable discounts
5. User completes order (implementation not in scope)

## Special Interaction Patterns

### Branch Switching
- If user switches to another branch, cart is completely cleared

### Category Navigation
- Selecting a category automatically scrolls to that section
- Categories remain fixed during scrolling for easy navigation

### Discount Application
- Product discounts shown on product cards and in cart
- Payment method discounts applied in cart summary

### Responsive Behavior
- Cart appears on side for desktop
- Cart appears fixed at bottom for mobile
